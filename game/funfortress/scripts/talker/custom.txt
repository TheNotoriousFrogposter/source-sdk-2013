#include "talker/response_rules.txt"

criterion "WeaponIsOldEqualizer" "item_name" "Vintage Equalizer" "required" weight 10
criterion "WeaponIsOldRobotArm" "item_name" "Vintage Gunslinger" "required" weight 10
criterion "WeaponIsOldShortstop" "item_name" "Vintage Shortstop" "required" weight 10
criterion "WeaponIsOldMetalFists" "item_name" "Vintage Fists of Steel" "required" weight 10
criterion "WeaponIsOldHippocrates" "item_name" "Vintage Solemn Vow" "required" weight 10
criterion "WeaponIsOldSodaPopper" "item_name" "Vintage Soda Popper" "required" weight 10
criterion "WeaponIsOldAtomizer" "item_name" "Vintage Atomizer" "required" weight 10
criterion "WeaponIsOldRayGun" "item_name" "Vintage Righteous Bison" "required" weight 10
criterion "WeaponIsOldSpycicle" "item_name" "Vintage Spy-cicle" "required" weight 10
criterion "WeaponIsOldPomson" "item_name" "Vintage Pomson 6000" "required" weight 10
criterion "WeaponIsOldBeggarsBazooka" "item_name" "Vintage Beggar's Bazooka" "required" weight 10
criterion "WeaponIsOldLooseCannon" "item_name" "Vintage Loose Cannon" "required" weight 10
criterion "WeaponIsOldRescueRanger" "item_name" "Vintage Rescue Ranger" "required" weight 10

	rule SoldierTauntOldEqualizer
	{
		criteria ConceptPlayerTaunt IsSoldier WeaponIsOldEqualizer
		response SoldierTauntPickaxe
	}

	rule EngineerTauntOldRobotArm
	{
		criteria ConceptPlayerTaunt IsEngineer WeaponIsOldRobotArm
		response EngineerTauntRobotArm
	}

	rule ScoutTauntOldShortstop
	{
		criteria ConceptPlayerTaunt IsScout WeaponIsOldShortstop
		response ScoutTauntSecondary
	}

	Rule KilledPlayerMeleeMetalHeavy2
	{
		criteria ConceptKilledPlayer KilledPlayerDelay 30PercentChance  WeaponIsOldMetalFists HeavyNotKillSpeechMelee IsHeavy
		ApplyContext "HeavyKillSpeechMelee:1:10"
		Response KilledPlayerMeleeMetalHeavy
		Response KilledPlayerMeleeHeavy
	}

	Rule MedicTauntOldBust
	{
		criteria ConceptPlayerTaunt IsMedic WeaponIsOldHippocrates
		response MedicTauntPrimary
	}

	rule ScoutTauntOldSodaPopper
	{
		criteria ConceptPlayerTaunt IsScout WeaponIsOldSodaPopper
		response ScoutTauntPrimaryDouble
	}

	rule ScoutTauntOldAtomizer
	{
		criteria ConceptPlayerTaunt IsScout WeaponIsOldAtomizer
		response ScoutTauntGrandSlam
	}

	rule SoldierTauntOldRayGun
	{
		criteria ConceptPlayerTaunt IsSoldier WeaponIsOldRayGun
		response SoldierTauntBanner
	}

	Rule SpyTauntOldSpycicle
	{
		criteria ConceptPlayerTaunt IsSpy WeaponIsOldSpycicle
		response SpyTauntSpycicle
	}

	Rule EngineerTauntOldPomson
	{
		criteria ConceptPlayerTaunt IsEngineer WeaponIsOldPomson
		response EngineerTauntPrimary
	}

	rule SoldierTauntOldBeggarsBazooka
	{
		criteria ConceptPlayerTaunt IsSoldier WeaponIsOldBeggarsBazooka
		response SoldierTauntDirectHit
	}

	rule DemomanTauntOldLooseCannon
	{
		criteria ConceptPlayerTaunt IsDemoman WeaponIsOldLooseCannon
		response DemomanTauntSecondary
	}

	rule EngineerTauntPlayerOldRescueRanger
	{
		criteria ConceptPlayerTaunt IsEngineer WeaponIsOldRescueRanger
		response EngineerTauntPrimary
	}

// Not working. :(
//criterion "LoadoutIsOldDrink" "loadout_slot_secondary" "!=Vintage Crit-a-Cola" "required" weight 10
//criterion "LoadoutIsOldCritDrink" "loadout_slot_secondary" "Vintage Crit-a-Cola" "required" weight 10
//	Rule PlayerBeingShotInvincibleScout
//	{
//		criteria ConceptDodgeShot IsScout LoadoutIsDrink LoadoutIsOldDrink // Exclude Crit-a-Cola
//		Response PlayerBeingShotInvincibleScout
//	}
//	Rule PlayerDodgingScout
//	{
//		criteria ConceptDodging IsScout ScoutIsNotInvuln LoadoutIsDrink LoadoutIsOldDrink // Exclude Crit-a-Cola
//		ApplyContext "ScoutInvuln:1:20"
//		Response PlayerDodgingScout
//	}
//	Rule DrinkNotReady
//	{
//		criteria ConceptPain IsScout WeaponIsLunchboxDrink BonkHealthContext ScoutNotDrinkReadySpeech LoadoutIsDrink LoadoutIsOldDrink // Exclude Crit-a-Cola
//		ApplyContext "ScoutDrinkReadySpeech:1:5"
//		Response DrinkNotReady
//	}
//	Rule PlayerCritColaVocalScout2
//	{
//		criteria ConceptFireWeapon IsScout LoadoutIsOldCritDrink ScoutIsNotCrit // The crit context is read in here via this criterion, which is set at the top of the file
//		Response PlayerCritColaVocalScout
//	}
//	Rule PostCritScout2
//	{
//		criteria ConceptTired IsScout 50PercentChance LoadoutIsOldCritDrink
//		Response PostCritScout
//	}